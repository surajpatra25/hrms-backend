version: '3.8'

services:
  hrms:
    image: sspatra25/hrms:latest
    container_name: hrms
    ports:
      - "80:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=dev
    volumes:
      # Option 1: Bind mount (recommended for production - full control)
      # IMPORTANT: Ensure directory has correct permissions: chmod 777 ./policy-files
      - ./policy-files:/app/policy-files
      # Option 2: Named volume (managed by Docker - use this if you prefer Docker to manage)
      # - hrms-policy-files:/app/policy-files
    networks:
      - hrms-network
    restart: unless-stopped

# Uncomment if using named volume (Option 2)
# volumes:
#   hrms-policy-files:
#     driver: local

networks:
  hrms-network:
    driver: bridge
